{% extends "web/base.html" %}
{% load static %}

{% block title %}MS/MS Search Results{% endblock %}

{% block content %}
<h3 class="mt-4">MS/MS Search Results</h3>
<hr>

{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}

{% if results %}
<div class="table-responsive mt-3">
<table class="table table-striped table-bordered table-hover align-middle">
  <thead>
    <tr>
      <th>Latin name</th>
      <th>Chinese name</th>
      <th>Tissue</th>
      <th>Score</th>
      <th>detail</th>
    </tr>
  </thead>
  <tbody>
    {% for r in results %}
    <tr>
      <td>{{ r.latin_name }}</td>
      <td>{{ r.chinese_name }}</td>
      <td>{{ r.tissue }}</td>
      <td>{{ r.best_score }}</td>
      <td><a href="{% url 'herb_detail' r.latin_name %}">View Details</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

</div>
{% else %}
<p class="text-danger mt-4">No matching compounds found.</p>
{% endif %}

<hr>
{% endblock %}
